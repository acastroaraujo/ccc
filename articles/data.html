<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ccc">
<title>Data • ccc</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Crimson_Text-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Fira_Code-0.4.9/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data">
<meta property="og:description" content="ccc">
<meta property="og:image" content="https://acastroaraujo.github.io/ccc/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ccc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/data.html">Data</a>
    <a class="dropdown-item" href="../articles/search.html">Search and Download</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/acastroaraujo/ccc/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/acastroaraujo/ccc/blob/HEAD/vignettes/articles/data.Rmd" class="external-link"><code>vignettes/articles/data.Rmd</code></a></small>
      <div class="d-none name"><code>data.Rmd</code></div>
    </div>

    
    
<p><em>Note. All datasets described here were created using <a href="https://github.com/acastroaraujo/ccc/tree/master/data-raw" class="external-link">these
scripts</a>, which use the functions described in the <a href="https://acastroaraujo.github.io/ccc/articles/search.html">search
article</a> to download the data. See <span class="citation">Denny and
Spirling (2018)</span> for an in-depth discussion of various
pre-processing steps (e.g., removal of stop words, lemmatization,
lowercasing).</em></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/acastroaraujo/ccc" class="external-link">ccc</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://Matrix.R-forge.R-project.org" class="external-link">Matrix</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="thirty-years">Thirty Years<a class="anchor" aria-label="anchor" href="#thirty-years"></a>
</h2>
<p><em>Note. All datasets described here were created using <a href="https://github.com/acastroaraujo/ccc/tree/master/data-raw" class="external-link">these
scripts</a>, which use the functions described in the <a href="https://acastroaraujo.github.io/ccc/articles/search.html">search
article</a>.</em></p>
<p><code>ccc</code> collects a corpus of over 27,179 rulings made by the
Colombian Constitutional Court (CCC) which cover the period of 30 years
immediately after the first ruling was published on April 3, 1992. All
together, they form a complex citation network with approximately
632,428 ties among them.</p>
<p>Each ruling has a standardized name (e.g., <code>C-776-03</code>,
<code>T-025-04</code>, <code>SU-1184-01</code>). The prefix refers to
the type of ruling; the infix carries no meaning; and the suffix
indicates the year in which the ruling was made.</p>
<p>There are three types of ruling:</p>
<ul>
<li><p><code>C</code> refers to the cases in which the CCC decides
whether a law, rule, administrative decision is compatible with
constitutional norms—also known as <em>judicial review.</em></p></li>
<li>
<p><code>T</code> refers to <em>tutela</em>, which is an individual
complaint mechanism (or special writ) aimed at the protection of
fundamental rights. These <em>tutelas</em> give ordinary citizens the
power to go before any ordinary judge and request the protection of
their “fundamental constitutional rights” whenever they perceive them be
threatened. Each year, the CCC selects approximately 2% of these cases
for review, and the final decision may uphold or reverse decisions made
by lower courts.</p>
<p>A lot of these cases are related to healthcare access and
pensions.</p>
</li>
<li><p><code>SU</code> refers to decisions in which the Court has
decided to compile several <code>T</code> cases. They are a sort of
legally binding “Annual Reviews” for the judicial system in
Colombia.</p></li>
</ul>
<div class="section level3">
<h3 id="citations">Citations<a class="anchor" aria-label="anchor" href="#citations"></a>
</h3>
<p><code>metadata</code> contains information on each ruling.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metadata</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 27,179 × 11</span></span></span>
<span><span class="co">#&gt;   id     type   year date       indegree outdegree descriptors mp    date_public</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;lis&gt;</span> <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> T-001… T      <span style="text-decoration: underline;">1</span>992 1992-04-03      187         0 <span style="color: #949494;">&lt;chr [14]&gt;</span>  <span style="color: #949494;">&lt;chr&gt;</span> <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> C-004… C      <span style="text-decoration: underline;">1</span>992 1992-05-07      118         0 <span style="color: #949494;">&lt;chr [11]&gt;</span>  <span style="color: #949494;">&lt;chr&gt;</span> <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> T-002… T      <span style="text-decoration: underline;">1</span>992 1992-05-08      272         0 <span style="color: #949494;">&lt;chr [4]&gt;</span>   <span style="color: #949494;">&lt;chr&gt;</span> 1992-02-08 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> T-003… T      <span style="text-decoration: underline;">1</span>992 1992-05-11      142         0 <span style="color: #949494;">&lt;chr [8]&gt;</span>   <span style="color: #949494;">&lt;chr&gt;</span> <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> C-005… C      <span style="text-decoration: underline;">1</span>992 1992-05-11        7         1 <span style="color: #949494;">&lt;chr [11]&gt;</span>  <span style="color: #949494;">&lt;chr&gt;</span> <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> T-006… T      <span style="text-decoration: underline;">1</span>992 1992-05-12      225         0 <span style="color: #949494;">&lt;chr [21]&gt;</span>  <span style="color: #949494;">&lt;chr&gt;</span> <span style="color: #BB0000;">NA</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 27,173 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: file &lt;chr&gt;, url &lt;chr&gt;</span></span></span></code></pre></div>
<p><code>citations</code> contains the citation network in “edge list”
format. Each citation has a <code>weight</code> that refers to the
<em>number</em> of times a ruling cites a previous case.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">citations</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 632,428 × 5</span></span></span>
<span><span class="co">#&gt;   from     to       weight from_date  to_date   </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> C-001-18 C-004-93      1 2018-01-24 1993-01-14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> C-001-18 C-007-01      1 2018-01-24 2001-01-17</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> C-001-18 C-008-17      2 2018-01-24 2017-01-18</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> C-001-18 C-030-03      1 2018-01-24 2003-01-28</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> C-001-18 C-037-96      3 2018-01-24 1996-02-05</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> C-001-18 C-041-93      1 2018-01-24 1993-02-11</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 632,422 more rows</span></span></span></code></pre></div>
<p>There is also a convenient function that turns these two datasets
into a squared adjacency matrix.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_citation_adj_mat.html">create_citation_adj_mat</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">M</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 27179 27179</span></span></code></pre></div>
<p>The resulting matrix <span class="math inline">\(M\)</span> is very
sparse. It has 738,698,041 cells and only 0.086% are non-zero.</p>
<p>The following figure is my best attempt at visualizing the whole
thing:</p>
<p><img src="figures/adj_mat_viz.png" style="width:75.0%"></p>
<p><em>Note. If we were to observe an empty column, it would mean that
none of the rulings created during that particular time period where
cited in future rulings (i.e., rulings that failed to become precedent).
If we were to observe an empty row, it would mean that none of the
rulings created during that particular time period cited previous
rulings. Both of these scenarios are entirely hypothetical.</em></p>
</div>
<div class="section level3">
<h3 id="time-traveling">Time Traveling<a class="anchor" aria-label="anchor" href="#time-traveling"></a>
</h3>
<p>A citation network <span class="math inline">\(\mathbf M\)</span> is
always <strong>directed, asymmetric</strong>, and
<strong>acyclic</strong>—i.e., it points backwards in time.</p>
<p>Let’s assume that <span class="math inline">\(\mathbf M\)</span> is
lower triangular, meaning that all elements above the main diagonal are
zero. This happens when the documents are arranged from first to last,
the rows represent source documents, and the columns represent target
documents. The main diagonal is also zero because we won’t allow any
document to cite itself.</p>
<p><em>Note. The direction of the citation can be considered backwards
in time (i.e., documents citing past documents) or forwards in time
(i.e., knowledge flowing from documents to future documents). Here I use
a backward-looking convention. In acyclic temporal graphs of this sort,
the in-degree of the earliest node is always zero and the out-degree of
the newest node is also always zero.</em></p>
<p>However, the CCC matrix is <em>not</em> lower triangular. Some
documents cite each other in a way that creates the illusion of time
travel because the court has been writing them simultaneously. In some
(very few) cases a ruling will cite another one that will be published a
couple months later.</p>
<p>Other rulings have been modified many years later for privacy
concerns—e.g., <code>T-1003-99</code>. In such cases the CCC has
modified the original to text to ensure that the names of the parties
involved are rendered anonymous.</p>
<p>These sorts of modifications are usually prefaced by a small
editorial note at the beginning of the document.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">url</span> <span class="op">&lt;-</span> <span class="st">"https://www.corteconstitucional.gov.co/relatoria/1999/T-1003-99.htm"</span></span>
<span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ccc_txt.html">ccc_txt</a></span><span class="op">(</span><span class="va">url</span><span class="op">)</span></span>
<span><span class="co">#&gt; https://www.corteconstitucional.gov.co/relatoria/1999/T-1003-99.htm</span></span>
<span></span>
<span><span class="va">txt</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_trunc.html" class="external-link">str_trunc</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">300</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_trim.html" class="external-link">str_squish</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link">str_wrap</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; NOTA DE RELATORIA: Mediante auto 397 de fecha 19 de julio de 2019, el cual se</span></span>
<span><span class="co">#&gt; anexa en la parte final de esta providencia, se ordena suprimir el nombre y los</span></span>
<span><span class="co">#&gt; datos que permitan identificar al accionante y, en su lugar, sustituirlos por el</span></span>
<span><span class="co">#&gt; nombre ficticio de “Miguel”. Sentencia T-1...</span></span></code></pre></div>
<p>This document is also accompanied by a small text—labeled <em>Auto
397/19</em><strong>—</strong>which contains citations to future rulings
that deal with the issue of anonymity in public documents. There are
more examples of this kind of time travel in the CCC dataset.</p>
<p>Thus, the upper triangular section of the <span class="math inline">\(\mathbf M\)</span> matrix for the Colombian
Constitutional Court has various non-zero entries.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">M</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/lower.tri.html" class="external-link">upper.tri</a></span><span class="op">(</span><span class="va">M</span><span class="op">)</span><span class="op">]</span> <span class="op">&gt;</span> <span class="fl">0L</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 595</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="text-features">Text Features<a class="anchor" aria-label="anchor" href="#text-features"></a>
</h3>
<p>The <code>docterms</code> dataset contains a data frame with document
identifiers (<code>doc_id</code>) and word counts (<code>lemma</code>
and <code>n</code>). It has 25,403,840 rows.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">docterms</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 25,403,840 × 3</span></span></span>
<span><span class="co">#&gt;   doc_id   lemma         n</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> C-001-18 abierto       2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> C-001-18 abordar       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> C-001-18 absoluto      1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> C-001-18 abstracto    12</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> C-001-18 academia      3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> C-001-18 academico     1</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 25,403,834 more rows</span></span></span></code></pre></div>
<p>This dataset contains 27,179 unique documents with a vocabulary size
of 10,794.</p>
<p>The <code><a href="../reference/create_dtm.html">create_dtm()</a></code> function creates a sparse document-term
matrix from the information contained in <code>docterms</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_dtm.html">create_dtm</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 27179 10794</span></span></code></pre></div>
<p>Close to 91% of the cells in this matrix are empty, which is why we
call it a “sparse matrix.”</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">A</span> <span class="op">==</span> <span class="fl">0L</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.9134069</span></span></code></pre></div>
<p>Here is a random subset of <span class="math inline">\(\mathbf{A}\)</span>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1111</span><span class="op">)</span></span>
<span><span class="va">i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">j</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">A</span><span class="op">[</span><span class="va">i</span>, <span class="va">j</span><span class="op">]</span></span>
<span><span class="co">#&gt; 10 x 5 sparse Matrix of class "dgCMatrix"</span></span>
<span><span class="co">#&gt;          abusivo red pertenencia universal edicto</span></span>
<span><span class="co">#&gt; T-985-04       .   .           .         .      .</span></span>
<span><span class="co">#&gt; T-951-03       1   .           .         2      .</span></span>
<span><span class="co">#&gt; T-073-97       2   .           .         .      .</span></span>
<span><span class="co">#&gt; T-304-06       .   .           .         .      .</span></span>
<span><span class="co">#&gt; T-803-01       .   .           .         .      .</span></span>
<span><span class="co">#&gt; T-007-06       .   .           .         .      .</span></span>
<span><span class="co">#&gt; C-283-02       .   .           .         .      .</span></span>
<span><span class="co">#&gt; T-082-13       .  34           .         .      .</span></span>
<span><span class="co">#&gt; C-015-10       .   .           .         .      .</span></span>
<span><span class="co">#&gt; T-337-00       .   .           .         .      .</span></span></code></pre></div>
<p><em>Note. I am still unsatisfied with the Spanish lemmatization
provided by spaCy, so this will probably change in the future if I
figure out a better way.</em></p>
</div>
<div class="section level3">
<h3 id="other-cases">Other Cases<a class="anchor" aria-label="anchor" href="#other-cases"></a>
</h3>
<p><strong>Gender</strong></p>
<p><code>gender_cases</code> contains cases related to gender equality
across a variety of topics, collected by domain experts <a href="https://www.corteconstitucional.gov.co/relatoria/equidaddegenero.php" class="external-link">here</a>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gender_cases</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 471 × 4</span></span></span>
<span><span class="co">#&gt;   id       type  tema                                 href                      </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> T-064-23 T     A LA IGUALDAD Y LA NO DISCRIMINACIÓN /relatoria/2023/T-064-23.…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> T-028-23 T     A LA IGUALDAD Y LA NO DISCRIMINACIÓN /relatoria/2023/T-028-23.…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> T-452-22 T     A LA IGUALDAD Y LA NO DISCRIMINACIÓN /relatoria/2022/T-452-22.…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> T-425-22 T     A LA IGUALDAD Y LA NO DISCRIMINACIÓN /relatoria/2022/T-425-22.…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> T-400-22 T     A LA IGUALDAD Y LA NO DISCRIMINACIÓN /relatoria/2022/T-400-22.…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> T-378-22 T     A LA IGUALDAD Y LA NO DISCRIMINACIÓN /relatoria/2022/T-378-22.…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 465 more rows</span></span></span></code></pre></div>
<p><strong>Transitional Justice</strong></p>
<p><code>The jctt_*</code> datasets contain cases from the “<a href="http://justiciatransicional.uniandes.edu.co/web/" class="external-link">Justicia
Constitucional en Tiempos de Transición</a>” project, collected by
researchers affiliated with Universidad de Los Andes.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">jctt_cases</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 123 × 11</span></span></span>
<span><span class="co">#&gt;   id       type  date       precedent president href  keywords crimes   mp      </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> C-019-18 C     2018-04-04 Mantiene  Juan Man… /Rel… <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> C-020-18 C     2018-04-04 Mantiene  Juan Man… /Rel… <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> C-527-17 C     2017-08-14 Crea      Juan Man… /Rel… <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> C-006-17 C     2017-01-18 Mantiene  Juan Man… /Rel… <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> C-026-18 C     2018-04-11 Mantiene  Juan Man… /Rel… <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> C-535-17 C     2017-08-17 Crea      Juan Man… /Rel… <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 117 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: msv &lt;list&gt;, mav &lt;list&gt;</span></span></span></code></pre></div>
<p><code>jctt_edge_list</code> contains citation data to sources
“outside” the CCC (e.g., in international law).</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">jctt_edge_list</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1,660 × 7</span></span></span>
<span><span class="co">#&gt;   from     to                     type  to_source to_system date       president</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> C-019-18 ONU, Asamblea General… C     Normas i… Sistema … 2018-04-04 Juan Man…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> C-019-18 ONU, Asamblea General… C     Normas i… Sistema … 2018-04-04 Juan Man…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> C-019-18 ONU, Asamblea General… C     Normas i… Sistema … 2018-04-04 Juan Man…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> C-019-18 ONU, Convencion para … C     Normas i… Sistema … 2018-04-04 Juan Man…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> C-019-18 ONU, Convencion Relat… C     Normas i… Sistema … 2018-04-04 Juan Man…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> C-019-18 ONU, Asamblea General… C     Normas i… Sistema … 2018-04-04 Juan Man…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1,654 more rows</span></span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="visualizations">Visualizations<a class="anchor" aria-label="anchor" href="#visualizations"></a>
</h2>
<p>This section relies heavily on various other packages.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## General Purpose</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_set</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_light</a></span><span class="op">(</span>base_family <span class="op">=</span> <span class="st">"Crimson Text"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>strip.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_rect</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"#4C4C4C"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Networks</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.igraph.org/" class="external-link">igraph</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Time Series Decomposition</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tsibble.tidyverts.org" class="external-link">tsibble</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://fable.tidyverts.org" class="external-link">fable</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://feasts.tidyverts.org/" class="external-link">feasts</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="time-series-decomposition">Time Series Decomposition<a class="anchor" aria-label="anchor" href="#time-series-decomposition"></a>
</h3>
<p>The following graphs show a time series decomposition of the “birth
rate” of new rulings per month across time. We do this quite easily by
using the <a href="https://tidyverts.org/" class="external-link">tidyverts</a> suite of
packages developed by Rob Hyndman and company.</p>
<p>The first thing to do is to create independent year-month values for
each case and add them together.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_stl</span> <span class="op">&lt;-</span> <span class="va">metadata</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">date</span>, <span class="va">type</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>yearmonth <span class="op">=</span> <span class="fu"><a href="https://tsibble.tidyverts.org/reference/year-month.html" class="external-link">yearmonth</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    n <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">type</span>, <span class="va">yearmonth</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">tsibble</span><span class="fu">::</span><span class="fu"><a href="https://tsibble.tidyverts.org/reference/as-tsibble.html" class="external-link">as_tsibble</a></span><span class="op">(</span>key <span class="op">=</span> <span class="va">type</span>, index <span class="op">=</span> <span class="va">yearmonth</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">tsibble</span><span class="fu">::</span><span class="fu"><a href="https://tsibble.tidyverts.org/reference/fill_gaps.html" class="external-link">fill_gaps</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/replace_na.html" class="external-link">replace_na</a></span><span class="op">(</span>replace <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html" class="external-link">year</a></span><span class="op">(</span><span class="va">yearmonth</span><span class="op">)</span>, month <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html" class="external-link">month</a></span><span class="op">(</span><span class="va">yearmonth</span>, label <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="co">## this is where it all happens</span></span>
<span>  <span class="fu"><a href="https://fabletools.tidyverts.org/reference/model.html" class="external-link">model</a></span><span class="op">(</span><span class="fu"><a href="https://feasts.tidyverts.org/reference/STL.html" class="external-link">STL</a></span><span class="op">(</span><span class="va">n</span> <span class="op">~</span> <span class="fu">trend</span><span class="op">(</span>window <span class="op">=</span> <span class="fl">21</span><span class="op">)</span> <span class="op">+</span> <span class="fu">season</span><span class="op">(</span>window <span class="op">=</span> <span class="st">"periodic"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">fabletools</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/components.html" class="external-link">components</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_stl</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A dable: 1,069 x 8 [1M]</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Key:     type, .model [3]</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># :        n = trend + season_year + remainder</span></span></span>
<span><span class="co">#&gt;   type  .model         yearmonth     n trend season_year remainder season_adjust</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;mth&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> C     <span style="color: #949494;">"</span>STL(n ~ tren…  1992 May     3  3.35      4.76      -<span style="color: #BB0000;">5.11</span>          -<span style="color: #BB0000;">1.76</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> C     <span style="color: #949494;">"</span>STL(n ~ tren…  1992 Jun     4  4.73     -<span style="color: #BB0000;">2.46</span>       1.73           6.46</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> C     <span style="color: #949494;">"</span>STL(n ~ tren…  1992 Jul     5  6.12     -<span style="color: #BB0000;">1.31</span>       0.198          6.31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> C     <span style="color: #949494;">"</span>STL(n ~ tren…  1992 Aug     4  7.50      1.70      -<span style="color: #BB0000;">5.20</span>           2.30</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> C     <span style="color: #949494;">"</span>STL(n ~ tren…  1992 Sep     6  8.68     -<span style="color: #BB0000;">0.043</span><span style="color: #BB0000; text-decoration: underline;">5</span>    -<span style="color: #BB0000;">2.63</span>           6.04</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> C     <span style="color: #949494;">"</span>STL(n ~ tren…  1992 Oct    18  9.86      3.41       4.73          14.6 </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1,063 more rows</span></span></span></code></pre></div>
<p>After this it’s just a matter of using the
<code><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">feasts::autoplot()</a></code> function.</p>
<p>These plots show cleaner trends in the data and remove some of the
noise brought about by seasonal effects (e.g., there are fewer rulings
during the month of January).</p>
<p><img src="data_files/figure-html/unnamed-chunk-16-1.png" width="700"><img src="data_files/figure-html/unnamed-chunk-16-2.png" width="700"><img src="data_files/figure-html/unnamed-chunk-16-3.png" width="700"></p>
<p>We can also think about how this work gets distributed over the work
week.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="va">metadata</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">tsibble</span><span class="fu">::</span><span class="fu"><a href="https://tsibble.tidyverts.org/reference/as-tsibble.html" class="external-link">as_tsibble</a></span><span class="op">(</span>index <span class="op">=</span> <span class="va">date</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">tsibble</span><span class="fu">::</span><span class="fu"><a href="https://tsibble.tidyverts.org/reference/fill_gaps.html" class="external-link">fill_gaps</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/replace_na.html" class="external-link">replace_na</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>day <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/day.html" class="external-link">wday</a></span><span class="op">(</span><span class="va">date</span>, label <span class="op">=</span> <span class="cn">TRUE</span>, week_start <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html" class="external-link">year</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">d</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">day</span>, <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html" class="external-link">geom_jitter</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">10</span>, width <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html" class="external-link">stat_summary</a></span><span class="op">(</span>fun.data <span class="op">=</span> <span class="va">mean_se</span>, shape <span class="op">=</span> <span class="fl">21</span>, fill <span class="op">=</span> <span class="st">"white"</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span></code></pre></div>
<p><img src="data_files/figure-html/unnamed-chunk-17-1.png" width="700"></p>
<p>There are big outliers here—e.g., the CCC issued 50 rulings on
Thursday June 22, 2000.</p>
<p>And there’s also some heterogeneity across years.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span>, <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html" class="external-link">stat_summary</a></span><span class="op">(</span>fun.data <span class="op">=</span> <span class="va">mean_cl_boot</span>, </span>
<span>               shape <span class="op">=</span> <span class="fl">21</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">10</span>, linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">5</span>, stroke <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">day</span>, nrow <span class="op">=</span> <span class="fl">1</span>, strip.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="st">"count"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">0</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span>, linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>, </span>
<span>    axis.ticks.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>, </span>
<span>    strip.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>, </span>
<span>    strip.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span>,</span>
<span>    panel.grid.major.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Computation failed in `stat_summary()`.</span></span>
<span><span class="co">#&gt; Computation failed in `stat_summary()`.</span></span>
<span><span class="co">#&gt; Computation failed in `stat_summary()`.</span></span>
<span><span class="co">#&gt; Computation failed in `stat_summary()`.</span></span>
<span><span class="co">#&gt; Computation failed in `stat_summary()`.</span></span>
<span><span class="co">#&gt; Computation failed in `stat_summary()`.</span></span>
<span><span class="co">#&gt; Computation failed in `stat_summary()`.</span></span>
<span><span class="co">#&gt; Caused by error in `fun.data()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> The package "Hmisc" is required.</span></span></code></pre></div>
<p><img src="data_files/figure-html/unnamed-chunk-18-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="citations-across-time">Citations Across Time<a class="anchor" aria-label="anchor" href="#citations-across-time"></a>
</h3>
<p>The following Figure shows average in-degree (citations) and
out-degree (references) made in each ruling across the years. Note that,
on average, the decisions written during 1992 tend to be significantly
more cited that the ones written in other years, giving them some sort
of “first-movers advantage” over the others—i.e., the most innovative
thing of any kind is the first of its kind.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metadata</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">indegree</span>, <span class="va">outdegree</span><span class="op">)</span>, names_to <span class="op">=</span> <span class="st">"dtype"</span>, values_to <span class="op">=</span> <span class="st">"degree"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>dtype <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>    <span class="va">dtype</span> <span class="op">==</span> <span class="st">"indegree"</span> <span class="op">~</span> <span class="st">"Average Inward Citations (in-degree)"</span>,</span>
<span>    <span class="va">dtype</span> <span class="op">==</span> <span class="st">"outdegree"</span> <span class="op">~</span> <span class="st">"Average Outward Citations (out-degree)"</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">degree</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html" class="external-link">stat_summary</a></span><span class="op">(</span></span>
<span>    fun.data <span class="op">=</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/hmisc.html" class="external-link">mean_cl_boot</a></span><span class="op">(</span><span class="va">x</span>, conf.int <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">3</span>,<span class="co">#fatten = 1/2, size = 2,</span></span>
<span>    shape <span class="op">=</span> <span class="fl">21</span>, fill <span class="op">=</span> <span class="st">"white"</span>, stroke <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span></span>
<span>  <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">facet_grid</a></span><span class="op">(</span><span class="op">~</span><span class="va">dtype</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1992</span>, <span class="fl">2022</span>, <span class="fl">4</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1992</span>, <span class="fl">2022</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="cn">NULL</span>, x <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>strip.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Computation failed in `stat_summary()`.</span></span>
<span><span class="co">#&gt; Computation failed in `stat_summary()`.</span></span>
<span><span class="co">#&gt; Caused by error in `mean_cl_boot()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> The package "Hmisc" is required.</span></span></code></pre></div>
<p><img src="data_files/figure-html/unnamed-chunk-19-1.png" width="700"></p>
<p><span class="citation">Fowler and Jeon (2008)</span> interpret the
panel on the right as evidence that the legal norm of <em>stare
decisis,</em> but that’s definitely wishful thinking. <span class="citation">Leskovec, Kleinberg, and Faloutsos (2007)</span> show
that that out-degree tends to grow over time in many different kinds of
networks.</p>
<p>The following Figure disaggregates both kinds of citation by <em>type
of ruling.</em></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metadata</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">indegree</span>, <span class="va">outdegree</span><span class="op">)</span>, names_to <span class="op">=</span> <span class="st">"dtype"</span>, values_to <span class="op">=</span> <span class="st">"degree"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>dtype <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>    <span class="va">dtype</span> <span class="op">==</span> <span class="st">"indegree"</span> <span class="op">~</span> <span class="st">"Average Inward Citations (in-degree)"</span>,</span>
<span>    <span class="va">dtype</span> <span class="op">==</span> <span class="st">"outdegree"</span> <span class="op">~</span> <span class="st">"Average Outward Citations (out-degree)"</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">degree</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html" class="external-link">stat_summary</a></span><span class="op">(</span></span>
<span>    fun.data <span class="op">=</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/hmisc.html" class="external-link">mean_cl_boot</a></span><span class="op">(</span><span class="va">x</span>, conf.int <span class="op">=</span> <span class="fl">0.68</span><span class="op">)</span>, fatten <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span>,</span>
<span>    shape <span class="op">=</span> <span class="fl">21</span>, fill <span class="op">=</span> <span class="st">"white"</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">10</span></span>
<span>  <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">facet_grid</a></span><span class="op">(</span><span class="va">type</span> <span class="op">~</span> <span class="va">dtype</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1992</span>, <span class="fl">2022</span>, <span class="fl">4</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1992</span>, <span class="fl">2022</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="cn">NULL</span>, x <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>strip.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Computation failed in `stat_summary()`.</span></span>
<span><span class="co">#&gt; Computation failed in `stat_summary()`.</span></span>
<span><span class="co">#&gt; Computation failed in `stat_summary()`.</span></span>
<span><span class="co">#&gt; Computation failed in `stat_summary()`.</span></span>
<span><span class="co">#&gt; Computation failed in `stat_summary()`.</span></span>
<span><span class="co">#&gt; Computation failed in `stat_summary()`.</span></span>
<span><span class="co">#&gt; Caused by error in `mean_cl_boot()`:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> The package "Hmisc" is required.</span></span></code></pre></div>
<p><img src="data_files/figure-html/unnamed-chunk-20-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="centrality">Centrality<a class="anchor" aria-label="anchor" href="#centrality"></a>
</h3>
<p>Instead focusing on in-degree or out-degree, we can follow <span class="citation">Fowler and Jeon (2008)</span> in calculating more
sophisticated measures of centrality.</p>
<p>The key insight is that we can transform the original (unweighted)
citation matrix in two different ways:</p>
<ul>
<li>
<p>A <strong>co-citation</strong> matrix in which any two rulings
are connected by the total number of other rulings that cite both. The
<code><a href="https://r.igraph.org/reference/cocitation.html" class="external-link">cocitation()</a></code> function in <code>igraph</code> makes the
following calculation:</p>
<p><span class="math display">\[
\mathbf C = \mathbf{M}^\top \mathbf{M}
\]</span></p>
</li>
<li>
<p>A <strong>bibliographic coupling</strong>, in which any two
rulings are connected by the number of common references. The
<code><a href="https://r.igraph.org/reference/cocitation.html" class="external-link">bibcoupling()</a></code> function in <code>igraph</code> makes the
following calculation:</p>
<p><span class="math display">\[
\mathbf{B} = \mathbf{MM}^\top
\]</span></p>
</li>
</ul>
<p>Here, the diagonal elements of <span class="math inline">\(\mathbf{C}\)</span> correspond to the in-degree
for each ruling (or the row sums of <span class="math inline">\(\mathbf{M}\)</span>); whereas the diagonal
elements of <span class="math inline">\(\mathbf{B}\)</span> correspond
to the out-degree for each ruling (or the column sums of <span class="math inline">\(\mathbf{M}\)</span>).</p>
<p>Following <span class="citation">Kleinberg (1999)</span>, <span class="citation">Fowler and Jeon (2008)</span> calculate
<em>authority</em> and <em>score</em> hubs for each ruling. These are
the first eigenvectors of the <span class="math inline">\(\mathbf{C}\)</span> and <span class="math inline">\(\mathbf{B}\)</span> respectively.</p>
<p>As <span class="citation">Breiger (2000)</span> notes: “several
stories might be, and are, told about eigenvectors. They are the
low-dimensional scaffolds that support higher-dimensional structures.”
In this case, the story is supposed to be something like this:</p>
<blockquote>
<p>The authority score of a case depends on the number of times it is
cited and the quality of the cases that cite it. Symmetrically, the hub
score of a case depends on the number of cases it cites and the quality
of the cases cited. Thus, authority scores indicate the degree to which
a case is thought to be important for resolving other important issues
that come before the Court, while hub scores indicate the degree to
which a case is well-grounded in previous important rulings.</p>
<p><span class="citation">Fowler and Jeon (2008, 17)</span></p>
</blockquote>
<p>Calculating these scores is pretty straightforward using our
data.</p>
<p>Using the <code>igraph</code> package:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">net</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/graph_from_data_frame.html" class="external-link">graph_from_data_frame</a></span><span class="op">(</span></span>
<span>  <span class="co">## we will use the unweighted edge list</span></span>
<span>  d <span class="op">=</span> <span class="va">citations</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">!</span><span class="va">weight</span><span class="op">)</span>, </span>
<span>  directed <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>  vertices <span class="op">=</span> <span class="va">metadata</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">type</span>, <span class="va">date</span>, <span class="va">year</span>, <span class="va">indegree</span>, <span class="va">outdegree</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://r.igraph.org/reference/V.html" class="external-link">V</a></span><span class="op">(</span><span class="va">net</span><span class="op">)</span><span class="op">$</span><span class="va">authority</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/hub_score.html" class="external-link">authority_score</a></span><span class="op">(</span><span class="va">net</span>, scale <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">$</span><span class="va">vector</span></span>
<span><span class="fu"><a href="https://r.igraph.org/reference/V.html" class="external-link">V</a></span><span class="op">(</span><span class="va">net</span><span class="op">)</span><span class="op">$</span><span class="va">hub</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/hub_score.html" class="external-link">hub_score</a></span><span class="op">(</span><span class="va">net</span>, scale <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">$</span><span class="va">vector</span></span></code></pre></div>
<p>Measurements of authority are correlated with in-degree measurements,
but they’re not the same thing.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/graph_from_data_frame.html" class="external-link">as_data_frame</a></span><span class="op">(</span><span class="va">net</span>, what <span class="op">=</span> <span class="st">"vertices"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>top <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rank.html" class="external-link">rank</a></span><span class="op">(</span><span class="op">-</span><span class="va">authority</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="va">name</span>, <span class="st">""</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">indegree</span>, <span class="va">authority</span>, color <span class="op">=</span> <span class="va">type</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">5</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">top</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">3</span>, family <span class="op">=</span> <span class="st">"Avenir"</span><span class="op">)</span></span></code></pre></div>
<p><img src="data_files/figure-html/unnamed-chunk-22-1.png" width="700"></p>
<p>The same goes for “hub” and “out-degree” measurements.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/graph_from_data_frame.html" class="external-link">as_data_frame</a></span><span class="op">(</span><span class="va">net</span>, what <span class="op">=</span> <span class="st">"vertices"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>top <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rank.html" class="external-link">rank</a></span><span class="op">(</span><span class="op">-</span><span class="va">hub</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="va">name</span>, <span class="st">""</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">outdegree</span>, <span class="va">hub</span>, color <span class="op">=</span> <span class="va">type</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">5</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">top</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">3</span>, family <span class="op">=</span> <span class="st">"Avenir"</span><span class="op">)</span></span></code></pre></div>
<p><img src="data_files/figure-html/unnamed-chunk-23-1.png" width="700"></p>
<p><em>Note. It makes sense that SU rulings are heavily represented as
“hubs.”</em></p>
<p>Finally, note that authority and hub scores are somewhat related to
each other; however, by definition, the very first rulings can never be
hubs and the very last rulings can never be authorities. Hence we see
three clusters.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/graph_from_data_frame.html" class="external-link">as_data_frame</a></span><span class="op">(</span><span class="va">net</span>, what <span class="op">=</span> <span class="st">"vertices"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">authority</span>, <span class="va">hub</span>, color <span class="op">=</span> <span class="va">date</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_log10</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_log10</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_color_viridis_c</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in scale_x_log10(): <span style="color: #00BB00;">log-10</span> transformation introduced</span></span>
<span><span class="co">#&gt; infinite values.</span></span>
<span><span class="co">#&gt; Warning in scale_y_log10(): <span style="color: #00BB00;">log-10</span> transformation introduced</span></span>
<span><span class="co">#&gt; infinite values.</span></span></code></pre></div>
<p><img src="data_files/figure-html/unnamed-chunk-24-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="cross-type-citations">Cross-Type Citations<a class="anchor" aria-label="anchor" href="#cross-type-citations"></a>
</h3>
<p>Finally, I will figure out how to visualize cross-type citations
eventually. But in the mean time here are four tables: raw counts,
proportions, row proportions, and column proportions.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="va">citations</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    from <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_extract.html" class="external-link">str_extract</a></span><span class="op">(</span><span class="va">from</span>, <span class="st">"^[TCSU]+"</span><span class="op">)</span>,</span>
<span>    to <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_extract.html" class="external-link">str_extract</a></span><span class="op">(</span><span class="va">to</span>, <span class="st">"^[TCSU]+"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">from</span>, <span class="va">to</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tbl</span></span>
<span><span class="co">#&gt;     to</span></span>
<span><span class="co">#&gt; from      C     SU      T</span></span>
<span><span class="co">#&gt;   C  133015   1985  18369</span></span>
<span><span class="co">#&gt;   SU   6082   3710  18562</span></span>
<span><span class="co">#&gt;   T   45280  27812 377613</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;     to</span></span>
<span><span class="co">#&gt; from     C    SU     T</span></span>
<span><span class="co">#&gt;   C  0.210 0.003 0.029</span></span>
<span><span class="co">#&gt;   SU 0.010 0.006 0.029</span></span>
<span><span class="co">#&gt;   T  0.072 0.044 0.597</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="va">tbl</span>, margin <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;     to</span></span>
<span><span class="co">#&gt; from     C    SU     T</span></span>
<span><span class="co">#&gt;   C  0.867 0.013 0.120</span></span>
<span><span class="co">#&gt;   SU 0.215 0.131 0.655</span></span>
<span><span class="co">#&gt;   T  0.100 0.062 0.838</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="va">tbl</span>, margin <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;     to</span></span>
<span><span class="co">#&gt; from     C    SU     T</span></span>
<span><span class="co">#&gt;   C  0.721 0.059 0.044</span></span>
<span><span class="co">#&gt;   SU 0.033 0.111 0.045</span></span>
<span><span class="co">#&gt;   T  0.246 0.830 0.911</span></span></code></pre></div>
</div>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-breiger2000" class="csl-entry">
Breiger, Ronald L. 2000. <span>“A Tool Kit for Practice Theory.”</span>
<em>Poetics</em> 27 (2-3): 91115.
</div>
<div id="ref-denny2018" class="csl-entry">
Denny, Matthew J., and Arthur Spirling. 2018. <span>“Text Preprocessing
for Unsupervised Learning: Why It Matters, When It Misleads, and What to
Do about It.”</span> <em>Political Analysis</em> 26 (2): 168189.
</div>
<div id="ref-fowler2008" class="csl-entry">
Fowler, James H., and Sangick Jeon. 2008. <span>“The Authority of
Supreme Court Precedent.”</span> <em>Social Networks</em> 30 (1): 1630.
</div>
<div id="ref-kleinberg1999" class="csl-entry">
Kleinberg, Jon M. 1999. <span>“Authoritative Sources in a Hyperlinked
Environment.”</span> <em>Journal of the ACM</em> 46 (5): 604632. <a href="https://doi.org/10.1145/324133.324140" class="external-link">https://doi.org/10.1145/324133.324140</a>.
</div>
<div id="ref-leskovec2007" class="csl-entry">
Leskovec, Jure, Jon Kleinberg, and Christos Faloutsos. 2007.
<span>“Graph Evolution: Densification and Shrinking Diameters.”</span>
<em>ACM Transactions on Knowledge Discovery from Data (TKDD)</em> 1 (1):
2es.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Andrés Castro Araújo.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
