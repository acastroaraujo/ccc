<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Data • ccc</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="data_files/libs/quarto-html/popper.min.js"></script><script src="data_files/libs/quarto-html/tippy.umd.min.js"></script><link href="data_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="data_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data">
<meta property="og:image" content="https://acastroaraujo.github.io/ccc/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ccc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/data.html">Data</a></li>
    <li><a class="dropdown-item" href="../articles/search.html">Search and Download</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/acastroaraujo/ccc/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1></h1>




      <small class="dont-index">Source: <a href="https://github.com/acastroaraujo/ccc/blob/master/vignettes/articles/data.qmd" class="external-link"><code>vignettes/articles/data.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <header id="title-block-header" class="quarto-title-block"><h1 class="title">Data</h1></header><div style="font-size: 0.8em;">
<p><em>Note. All datasets described here were created using <a href="https://github.com/acastroaraujo/ccc/tree/master/data-raw" class="external-link">these scripts</a>, which use the functions described in the <a href="https://acastroaraujo.github.io/ccc/articles/search.html">search and download article</a>.</em></p>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/acastroaraujo/ccc" class="external-link">ccc</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: Matrix</span></span>
<span><span class="co">#&gt; Para más información:</span></span>
<span><span class="co">#&gt; https://www.corteconstitucional.gov.co/relatoria/</span></span></code></pre></div>
</div>
<section class="section level3"><h3 id="years">32 Years<a class="anchor" aria-label="anchor" href="#years"></a>
</h3>
<p><code>ccc</code> collects a corpus of over 28,228 rulings made by the Colombian Constitutional Court (CCC) which cover the period of 32 years immediately after the first ruling was published on April 3, 1992. All together, they form a complex citation network with approximately 693,053 ties among them.</p>
<p>Each ruling has a standardized name (e.g., <code>C-776-03</code>, <code>T-025-04</code>, <code>SU-1184-01</code>). The prefix refers to the type of ruling; the infix carries no meaning; and the suffix indicates the year in which the ruling was made.</p>
<p>There are three types of ruling:</p>
<ul>
<li><p><code>C</code> refers to the cases in which the CCC decides whether a law, rule, administrative decision is compatible with constitutional norms—also known as <em>judicial review.</em></p></li>
<li>
<p><code>T</code> refers to <em>tutela</em>, which is an individual complaint mechanism (or special writ) aimed at the protection of fundamental rights. These <em>tutelas</em> give ordinary citizens the power to go before any ordinary judge and request the protection of their “fundamental constitutional rights” whenever they perceive them be threatened. Each year, the CCC selects approximately 2% of these cases for review, and the final decision may uphold or reverse decisions made by lower courts.</p>
<p>A lot of these cases are related to healthcare access and pensions.</p>
</li>
<li><p><code>SU</code> refers to decisions in which the Court has decided to compile several <code>T</code> cases. They are a sort of legally binding “Annual Reviews” for the judicial system in Colombia.</p></li>
</ul>
<section class="level3"><h4 id="citations">Citations<a class="anchor" aria-label="anchor" href="#citations"></a>
</h4>
<p><code>metadata</code> contains information on each ruling.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metadata</span></span>
<span><span class="co">#&gt; # A tibble: 28,228 × 12</span></span>
<span><span class="co">#&gt;   id      type   year date       indegree outdegree word_count descriptors mp   </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;   &lt;fct&gt; &lt;int&gt; &lt;date&gt;        &lt;int&gt;     &lt;int&gt;      &lt;int&gt; &lt;list&gt;      &lt;lis&gt;</span></span>
<span><span class="co">#&gt; 1 T-001-… T      1992 1992-04-03      188         0       7060 &lt;chr [14]&gt;  &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 2 C-004-… C      1992 1992-05-07      119         0      20107 &lt;chr [11]&gt;  &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 3 T-002-… T      1992 1992-05-08      285         0       7597 &lt;chr [4]&gt;   &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 4 T-003-… T      1992 1992-05-11      146         0       5760 &lt;chr [8]&gt;   &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 5 C-005-… C      1992 1992-05-11        7         1       6869 &lt;chr [11]&gt;  &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 6 T-006-… T      1992 1992-05-12      228         0      32408 &lt;chr [21]&gt;  &lt;chr&gt;</span></span>
<span><span class="co">#&gt; # ℹ 28,222 more rows</span></span>
<span><span class="co">#&gt; # ℹ 3 more variables: date_public &lt;date&gt;, file &lt;chr&gt;, url &lt;chr&gt;</span></span></code></pre></div>
</div>
<p><code>citations</code> contains the citation network in “edge list” format. Each citation has a <code>weight</code> that refers to the <em>number</em> of times a ruling cites a previous case.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">citations</span></span>
<span><span class="co">#&gt; # A tibble: 693,053 × 5</span></span>
<span><span class="co">#&gt;   from     to       weight from_date  to_date   </span></span>
<span><span class="co">#&gt;   &lt;fct&gt;    &lt;fct&gt;     &lt;int&gt; &lt;date&gt;     &lt;date&gt;    </span></span>
<span><span class="co">#&gt; 1 C-001-18 C-004-93      1 2018-01-24 1993-01-14</span></span>
<span><span class="co">#&gt; 2 C-001-18 C-007-01      1 2018-01-24 2001-01-17</span></span>
<span><span class="co">#&gt; 3 C-001-18 C-008-17      2 2018-01-24 2017-01-18</span></span>
<span><span class="co">#&gt; 4 C-001-18 C-030-03      1 2018-01-24 2003-01-28</span></span>
<span><span class="co">#&gt; 5 C-001-18 C-037-96      3 2018-01-24 1996-02-05</span></span>
<span><span class="co">#&gt; 6 C-001-18 C-041-93      1 2018-01-24 1993-02-11</span></span>
<span><span class="co">#&gt; # ℹ 693,047 more rows</span></span></code></pre></div>
</div>
<p>There is also a convenient function that turns these two datasets into a squared adjacency matrix.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_citation_adj_mat.html">create_citation_adj_mat</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">M</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 28228 28228</span></span></code></pre></div>
</div>
<p>The resulting matrix <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math> is very sparse. It has 796,819,984 cells and only 0.087% are non-zero.</p>
<p>The following figure is my best attempt at visualizing the whole thing:</p>
<p><img src="figures/adj_mat_viz.png" style="width:75.0%"></p>
<p><em>Note. If we were to observe an empty column, it would mean that none of the rulings created during that particular time period where cited in future rulings (i.e., rulings that failed to become precedent). If we were to observe an empty row, it would mean that none of the rulings created during that particular time period cited previous rulings. Both of these scenarios are entirely hypothetical.</em></p>
</section><section class="level3"><h4 id="time-traveling">Time Traveling<a class="anchor" aria-label="anchor" href="#time-traveling"></a>
</h4>
<p>A citation network <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>𝐌</mi><annotation encoding="application/x-tex">\mathbf M</annotation></semantics></math> is always <strong>directed, asymmetric</strong>, and <strong>acyclic</strong>—i.e., it points backwards in time.</p>
<p>Let’s assume that <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>𝐌</mi><annotation encoding="application/x-tex">\mathbf M</annotation></semantics></math> is lower triangular, meaning that all elements above the main diagonal are zero. This happens when the documents are arranged from first to last, the rows represent source documents, and the columns represent target documents. The main diagonal is also zero because we won’t allow any document to cite itself.</p>
<p><em>Note. The direction of the citation can be considered backwards in time (i.e., documents citing past documents) or forwards in time (i.e., knowledge flowing from documents to future documents). Here I use a backward-looking convention. In acyclic temporal graphs of this sort, the in-degree of the earliest node is always zero and the out-degree of the newest node is also always zero.</em></p>
<p>However, the CCC matrix is <em>not</em> lower triangular. Some documents cite each other in a way that creates the illusion of time travel because the court has been writing them simultaneously. In some (very few) cases a ruling will cite another one that will be published a couple months later.</p>
<p>Other rulings have been modified many years later for privacy concerns—e.g., <code>T-1003-99</code>. In such cases the CCC has modified the original to text to ensure that the names of the parties involved are rendered anonymous.</p>
<p>These sorts of modifications are usually prefaced by a small editorial note at the beginning of the document.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">url</span> <span class="op">&lt;-</span> <span class="st">"https://www.corteconstitucional.gov.co/relatoria/1999/T-1003-99.htm"</span></span>
<span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ccc_txt.html">ccc_txt</a></span><span class="op">(</span><span class="va">url</span><span class="op">)</span></span>
<span><span class="co">#&gt; https://www.corteconstitucional.gov.co/relatoria/1999/T-1003-99.htm</span></span>
<span></span>
<span><span class="va">txt</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_trunc.html" class="external-link">str_trunc</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">300</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_trim.html" class="external-link">str_squish</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link">str_wrap</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; NOTA DE RELATORIA: Mediante auto 397 de fecha 19 de julio de 2019, el cual se</span></span>
<span><span class="co">#&gt; anexa en la parte final de esta providencia, se ordena suprimir el nombre y los</span></span>
<span><span class="co">#&gt; datos que permitan identificar al accionante y, en su lugar, sustituirlos por el</span></span>
<span><span class="co">#&gt; nombre ficticio de “Miguel”. Sentencia T-1...</span></span></code></pre></div>
</div>
<p>This document is also accompanied by a small text—labeled <em>Auto 397/19</em><strong>—</strong>which contains citations to future rulings that deal with the issue of anonymity in public documents. There are more examples of this kind of time travel in the CCC dataset.</p>
<p>Thus, the upper triangular section of the <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>𝐌</mi><annotation encoding="application/x-tex">\mathbf M</annotation></semantics></math> matrix for the Colombian Constitutional Court has various non-zero entries.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">M</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/lower.tri.html" class="external-link">upper.tri</a></span><span class="op">(</span><span class="va">M</span><span class="op">)</span><span class="op">]</span> <span class="op">&gt;</span> <span class="fl">0L</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 638</span></span></code></pre></div>
</div>
</section><section class="level3"><h4 id="text-features">Text Features<a class="anchor" aria-label="anchor" href="#text-features"></a>
</h4>
<div style="font-size: 0.8em;">
<p><em>See <span class="citation" data-cites="denny2018">Denny and Spirling (<a href="#ref-denny2018" role="doc-biblioref">2018</a>)</span> for an in-depth discussion of various pre-processing steps (e.g., removal of stop words, lemmatization, lowercasing).</em></p>
</div>
<p>The <code>docterms</code> dataset contains a data frame with document identifiers (<code>doc_id</code>) and word counts (<code>lemma</code> and <code>n</code>). It has 26,945,876 rows.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">docterms</span></span>
<span><span class="co">#&gt; # A tibble: 26,945,876 × 3</span></span>
<span><span class="co">#&gt;   doc_id   lemma         n</span></span>
<span><span class="co">#&gt;   &lt;fct&gt;    &lt;fct&gt;     &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 C-001-18 abierto       2</span></span>
<span><span class="co">#&gt; 2 C-001-18 abordar       1</span></span>
<span><span class="co">#&gt; 3 C-001-18 absoluto      1</span></span>
<span><span class="co">#&gt; 4 C-001-18 abstracto    12</span></span>
<span><span class="co">#&gt; 5 C-001-18 academia      3</span></span>
<span><span class="co">#&gt; 6 C-001-18 academico     1</span></span>
<span><span class="co">#&gt; # ℹ 26,945,870 more rows</span></span></code></pre></div>
</div>
<p>This dataset contains 28,228 unique documents with a vocabulary size of 10,954.</p>
<p>The <code><a href="../reference/create_dtm.html">create_dtm()</a></code> function creates a sparse document-term matrix from the information contained in <code>docterms</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_dtm.html">create_dtm</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 28228 10954</span></span></code></pre></div>
</div>
<p>Close to 91% of the cells in this matrix are empty, which is why we call it a “sparse matrix.”</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">A</span> <span class="op">==</span> <span class="fl">0L</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.9128556</span></span></code></pre></div>
</div>
<p>Here is a random subset of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>𝐀</mi><annotation encoding="application/x-tex">\mathbf{A}</annotation></semantics></math>:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1111</span><span class="op">)</span></span>
<span><span class="va">i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">j</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">A</span><span class="op">[</span><span class="va">i</span>, <span class="va">j</span><span class="op">]</span></span>
<span><span class="co">#&gt; 10 x 5 sparse Matrix of class "dgCMatrix"</span></span>
<span><span class="co">#&gt;           abusivo rebajar pensionada transportador vulnerarir</span></span>
<span><span class="co">#&gt; T-896-07        .       .          .             .          .</span></span>
<span><span class="co">#&gt; T-863A-99       .       .          .             .          .</span></span>
<span><span class="co">#&gt; T-052-20        .       .          .             .          .</span></span>
<span><span class="co">#&gt; T-270-16        .       .          .             .          .</span></span>
<span><span class="co">#&gt; T-726-98        .       .          .             .          .</span></span>
<span><span class="co">#&gt; SU-415-15       .       .          .             .          .</span></span>
<span><span class="co">#&gt; C-263-13        3       .          .             .          .</span></span>
<span><span class="co">#&gt; T-062-11        .       .          .             .          .</span></span>
<span><span class="co">#&gt; C-014-97        .       .          .             .          .</span></span>
<span><span class="co">#&gt; T-300-19        .       .          .             .          .</span></span></code></pre></div>
</div>
<p><em>Note. I am still unsatisfied with the Spanish lemmatization provided by spaCy, so this will probably change in the future if I figure out a better way.</em></p>
</section><section class="level3"><h4 id="centrality">Centrality<a class="anchor" aria-label="anchor" href="#centrality"></a>
</h4>
<p>This section relies on some external packages.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Packages and Setup</summary><div class="sourceCode cell-code" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## General Purpose</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_set</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_light</a></span><span class="op">(</span>base_family <span class="op">=</span> <span class="st">"Crimson Text"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>strip.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_rect</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"#4C4C4C"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Networks</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.igraph.org/" class="external-link">igraph</a></span><span class="op">)</span></span></code></pre></div>
</details>
</div>
<section class="level4"><h5 id="citations-across-time">Citations Across Time<a class="anchor" aria-label="anchor" href="#citations-across-time"></a>
</h5>
<p>The following Figure shows average in-degree (citations) and out-degree (references) made in each ruling across the years. Note that, on average, the decisions written during 1992 tend to be significantly more cited that the ones written in other years, giving them some sort of “first-movers advantage” over the others—i.e., the most innovative thing of any kind is the first of its kind.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metadata</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">indegree</span>, <span class="va">outdegree</span><span class="op">)</span>, names_to <span class="op">=</span> <span class="st">"dtype"</span>, values_to <span class="op">=</span> <span class="st">"degree"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>dtype <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>    <span class="va">dtype</span> <span class="op">==</span> <span class="st">"indegree"</span> <span class="op">~</span> <span class="st">"Average Inward Citations (in-degree)"</span>,</span>
<span>    <span class="va">dtype</span> <span class="op">==</span> <span class="st">"outdegree"</span> <span class="op">~</span> <span class="st">"Average Outward Citations (out-degree)"</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">degree</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html" class="external-link">stat_summary</a></span><span class="op">(</span></span>
<span>    fun.data <span class="op">=</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/hmisc.html" class="external-link">mean_cl_boot</a></span><span class="op">(</span><span class="va">x</span>, conf.int <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">3</span>,</span>
<span>    shape <span class="op">=</span> <span class="fl">21</span>, fill <span class="op">=</span> <span class="st">"white"</span>, stroke <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span></span>
<span>  <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">facet_grid</a></span><span class="op">(</span><span class="op">~</span><span class="va">dtype</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1992</span>, <span class="fl">2024</span>, <span class="fl">4</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1992</span>, <span class="fl">2024</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="cn">NULL</span>, x <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>strip.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img src="data_files/figure-html/unnamed-chunk-13-1.png" class="quarto-figure quarto-figure-center" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
<p><span class="citation" data-cites="fowler2008">Fowler and Jeon (<a href="#ref-fowler2008" role="doc-biblioref">2008</a>)</span> interpret the panel on the right as evidence that the legal norm of <em>stare decisis</em> is becoming stronger, but that’s definitely wishful thinking. <span class="citation" data-cites="leskovec2007">Leskovec, Kleinberg, and Faloutsos (<a href="#ref-leskovec2007" role="doc-biblioref">2007</a>)</span> show that that out-degree tends to grow over time in many different kinds of networks.</p>
<p>The following Figure disaggregates both kinds of citation by <em>type of ruling.</em></p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metadata</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">indegree</span>, <span class="va">outdegree</span><span class="op">)</span>, names_to <span class="op">=</span> <span class="st">"dtype"</span>, values_to <span class="op">=</span> <span class="st">"degree"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>dtype <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>    <span class="va">dtype</span> <span class="op">==</span> <span class="st">"indegree"</span> <span class="op">~</span> <span class="st">"Average Inward Citations (in-degree)"</span>,</span>
<span>    <span class="va">dtype</span> <span class="op">==</span> <span class="st">"outdegree"</span> <span class="op">~</span> <span class="st">"Average Outward Citations (out-degree)"</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">degree</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html" class="external-link">stat_summary</a></span><span class="op">(</span></span>
<span>    fun.data <span class="op">=</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/hmisc.html" class="external-link">mean_cl_boot</a></span><span class="op">(</span><span class="va">x</span>, conf.int <span class="op">=</span> <span class="fl">0.68</span><span class="op">)</span>, fatten <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span>,</span>
<span>    shape <span class="op">=</span> <span class="fl">21</span>, fill <span class="op">=</span> <span class="st">"white"</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">10</span></span>
<span>  <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">facet_grid</a></span><span class="op">(</span><span class="va">type</span> <span class="op">~</span> <span class="va">dtype</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1992</span>, <span class="fl">2024</span>, <span class="fl">4</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1992</span>, <span class="fl">2024</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="cn">NULL</span>, x <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>strip.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img src="data_files/figure-html/unnamed-chunk-14-1.png" class="quarto-figure quarto-figure-center" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</section><section class="level4"><h5 id="hubs-and-authorities">Hubs and Authorities<a class="anchor" aria-label="anchor" href="#hubs-and-authorities"></a>
</h5>
<p>Instead focusing on in-degree or out-degree, we can follow <span class="citation" data-cites="fowler2008">Fowler and Jeon (<a href="#ref-fowler2008" role="doc-biblioref">2008</a>)</span> in calculating more sophisticated measures of centrality.</p>
<p>The key insight is that we can transform the original (unweighted) citation matrix in two different ways:</p>
<ul>
<li>
<p>A <strong>co-citation</strong> matrix in which any two rulings are connected by the total number of other rulings that cite both. The <code><a href="https://r.igraph.org/reference/cocitation.html" class="external-link">cocitation()</a></code> function in <code>igraph</code> makes the following calculation:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>𝐂</mi><mo>=</mo><msup><mi>𝐌</mi><mi>⊤</mi></msup><mi>𝐌</mi></mrow><annotation encoding="application/x-tex">
\mathbf C = \mathbf{M}^\top \mathbf{M}
</annotation></semantics></math></p>
</li>
<li>
<p>A <strong>bibliographic coupling</strong>, in which any two rulings are connected by the number of common references. The <code><a href="https://r.igraph.org/reference/cocitation.html" class="external-link">bibcoupling()</a></code> function in <code>igraph</code> makes the following calculation:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>𝐁</mi><mo>=</mo><msup><mrow><mi>𝐌</mi><mi>𝐌</mi></mrow><mi>⊤</mi></msup></mrow><annotation encoding="application/x-tex">
\mathbf{B} = \mathbf{MM}^\top
</annotation></semantics></math></p>
</li>
</ul>
<p>Here, the diagonal elements of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>𝐂</mi><annotation encoding="application/x-tex">\mathbf{C}</annotation></semantics></math> correspond to the in-degree for each ruling (or the row sums of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>𝐌</mi><annotation encoding="application/x-tex">\mathbf{M}</annotation></semantics></math>); whereas the diagonal elements of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>𝐁</mi><annotation encoding="application/x-tex">\mathbf{B}</annotation></semantics></math> correspond to the out-degree for each ruling (or the column sums of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>𝐌</mi><annotation encoding="application/x-tex">\mathbf{M}</annotation></semantics></math>).</p>
<p>Following <span class="citation" data-cites="kleinberg1999">Kleinberg (<a href="#ref-kleinberg1999" role="doc-biblioref">1999</a>)</span>, <span class="citation" data-cites="fowler2008">Fowler and Jeon (<a href="#ref-fowler2008" role="doc-biblioref">2008</a>)</span> calculate <em>authority</em> and <em>score</em> hubs for each ruling. These are the first eigenvectors of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>𝐂</mi><annotation encoding="application/x-tex">\mathbf{C}</annotation></semantics></math> and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>𝐁</mi><annotation encoding="application/x-tex">\mathbf{B}</annotation></semantics></math> respectively. Ronald Breiger once noted that <em>“several stories might be, and are, told about eigenvectors. They are the low-dimensional scaffolds that support higher-dimensional structures.”</em> In social networks, eigenvectors are interpreted as a measure of “centrality” which roughly translates to the extent to which a node well-connected to other well-connected nodes.</p>
<p>In this case, the story is supposed to go something like this:</p>
<blockquote>
<p>The authority score of a case depends on the number of times it is cited and the quality of the cases that cite it. Symmetrically, the hub score of a case depends on the number of cases it cites and the quality of the cases cited. Thus, authority scores indicate the degree to which a case is thought to be important for resolving other important issues that come before the Court, while hub scores indicate the degree to which a case is well-grounded in previous important rulings.</p>
<p><span class="citation" data-cites="fowler2008">Fowler and Jeon (<a href="#ref-fowler2008" role="doc-biblioref">2008, 17</a>)</span></p>
</blockquote>
<p>Calculating these scores is pretty straightforward using the <code>igraph</code> package:</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">net</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/graph_from_data_frame.html" class="external-link">graph_from_data_frame</a></span><span class="op">(</span></span>
<span>  <span class="co">## we will use the unweighted edge list</span></span>
<span>  d <span class="op">=</span> <span class="va">citations</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">!</span><span class="va">weight</span><span class="op">)</span>, </span>
<span>  directed <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>  vertices <span class="op">=</span> <span class="va">metadata</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">type</span>, <span class="va">date</span>, <span class="va">year</span>, <span class="va">indegree</span>, <span class="va">outdegree</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://r.igraph.org/reference/V.html" class="external-link">V</a></span><span class="op">(</span><span class="va">net</span><span class="op">)</span><span class="op">$</span><span class="va">authority</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/hub_score.html" class="external-link">authority_score</a></span><span class="op">(</span><span class="va">net</span>, scale <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">$</span><span class="va">vector</span></span>
<span><span class="co">#&gt; Warning: `authority_score()` was deprecated in igraph 2.1.0.</span></span>
<span><span class="co">#&gt; ℹ Please use `hits_scores()` instead.</span></span>
<span><span class="fu"><a href="https://r.igraph.org/reference/V.html" class="external-link">V</a></span><span class="op">(</span><span class="va">net</span><span class="op">)</span><span class="op">$</span><span class="va">hub</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/hub_score.html" class="external-link">hub_score</a></span><span class="op">(</span><span class="va">net</span>, scale <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">$</span><span class="va">vector</span></span>
<span><span class="co">#&gt; Warning: `hub_score()` was deprecated in igraph 2.0.3.</span></span>
<span><span class="co">#&gt; ℹ Please use `hits_scores()` instead.</span></span></code></pre></div>
</details>
</div>
<p>Measurements of authority are correlated with in-degree measurements, but they’re not the same thing.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/graph_from_data_frame.html" class="external-link">as_data_frame</a></span><span class="op">(</span><span class="va">net</span>, what <span class="op">=</span> <span class="st">"vertices"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>top <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rank.html" class="external-link">rank</a></span><span class="op">(</span><span class="op">-</span><span class="va">authority</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fl">1</span><span class="op">:</span><span class="fl">15</span>, <span class="va">name</span>, <span class="st">""</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">indegree</span>, <span class="va">authority</span>, color <span class="op">=</span> <span class="va">type</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">5</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggrepel</span><span class="fu">::</span><span class="fu"><a href="https://ggrepel.slowkow.com/reference/geom_text_repel.html" class="external-link">geom_text_repel</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">top</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">2.5</span>, family <span class="op">=</span> <span class="st">"Avenir"</span>, max.overlaps <span class="op">=</span> <span class="fl">50</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_log10</a></span><span class="op">(</span><span class="op">)</span> </span>
<span><span class="co">#&gt; Warning in scale_x_log10(): log-10 transformation introduced infinite values.</span></span>
<span><span class="co">#&gt; log-10 transformation introduced infinite values.</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img src="data_files/figure-html/unnamed-chunk-16-1.png" class="quarto-figure quarto-figure-center" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
<p><em>Note. Given the large number of <code>T</code> cases, it makes sense that the most “central” C rulings define what a tutela is (<code>C-543-92</code>) and further clarify the circumstances under which a tutela can be presented against decisions made by lower courts (C-590-05).</em></p>
<p>The same goes for “hub” and “out-degree” measurements.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/graph_from_data_frame.html" class="external-link">as_data_frame</a></span><span class="op">(</span><span class="va">net</span>, what <span class="op">=</span> <span class="st">"vertices"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>top <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rank.html" class="external-link">rank</a></span><span class="op">(</span><span class="op">-</span><span class="va">hub</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fl">1</span><span class="op">:</span><span class="fl">15</span>, <span class="va">name</span>, <span class="cn">NA_character_</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">outdegree</span>, <span class="va">hub</span>, color <span class="op">=</span> <span class="va">type</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">5</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggrepel</span><span class="fu">::</span><span class="fu"><a href="https://ggrepel.slowkow.com/reference/geom_text_repel.html" class="external-link">geom_text_repel</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">top</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">2.5</span>, family <span class="op">=</span> <span class="st">"Avenir"</span>, max.overlaps <span class="op">=</span> <span class="fl">50</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_log10</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in scale_x_log10(): log-10 transformation introduced infinite values.</span></span>
<span><span class="co">#&gt; log-10 transformation introduced infinite values.</span></span>
<span><span class="co">#&gt; Warning: Removed 28213 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">#&gt; (`geom_text_repel()`).</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img src="data_files/figure-html/unnamed-chunk-17-1.png" class="quarto-figure quarto-figure-center" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
<p><em>Note. It makes sense that SU rulings are heavily represented as “hubs.”</em></p>
<p>Finally, note that authority and hub scores are somewhat related to each other; however, by definition, the very first rulings can never be hubs and the very last rulings can never be authorities. Hence we see three clusters.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/graph_from_data_frame.html" class="external-link">as_data_frame</a></span><span class="op">(</span><span class="va">net</span>, what <span class="op">=</span> <span class="st">"vertices"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">authority</span>, <span class="va">hub</span>, color <span class="op">=</span> <span class="va">date</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">5</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_log10</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_log10</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_color_viridis_c</a></span><span class="op">(</span>trans <span class="op">=</span> <span class="st">"date"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in scale_x_log10(): log-10 transformation introduced infinite values.</span></span>
<span><span class="co">#&gt; Warning in scale_y_log10(): log-10 transformation introduced infinite values.</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img src="data_files/figure-html/unnamed-chunk-18-1.png" class="quarto-figure quarto-figure-center" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</section></section><section class="level3"><h4 id="length-of-documents">Length of Documents<a class="anchor" aria-label="anchor" href="#length-of-documents"></a>
</h4>
<p>Along with the increase in citations over time, an important feature of how the CCC rulings have evolved over time concerns the length of each document.</p>
<p>There is a variable called <code>word_count</code> in the <code>metadata</code> dataset which allows us to see changes over time.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metadata</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">word_count</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html" class="external-link">stat_summary</a></span><span class="op">(</span></span>
<span>    fun.data <span class="op">=</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/hmisc.html" class="external-link">mean_cl_boot</a></span><span class="op">(</span><span class="va">x</span>, conf.int <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">3</span>,</span>
<span>    shape <span class="op">=</span> <span class="fl">21</span>, fill <span class="op">=</span> <span class="st">"white"</span>, stroke <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1992</span>, <span class="fl">2024</span>, <span class="fl">4</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1992</span>, <span class="fl">2024</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">"n"</span>, x <span class="op">=</span> <span class="cn">NULL</span>, title <span class="op">=</span> <span class="st">"Average Number of Words in Each Ruling Per Year"</span><span class="op">)</span> </span></code></pre></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img src="data_files/figure-html/unnamed-chunk-19-1.png" class="quarto-figure quarto-figure-center" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</section></section><section class="section level3"><h3 id="other-cases">Other Cases<a class="anchor" aria-label="anchor" href="#other-cases"></a>
</h3>
<p><strong>Gender</strong></p>
<p><code>gender_cases</code> contains cases related to gender equality across a variety of topics, collected by domain experts <a href="https://www.corteconstitucional.gov.co/relatoria/equidaddegenero.php" class="external-link">here</a>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gender_cases</span></span>
<span><span class="co">#&gt; # A tibble: 471 × 4</span></span>
<span><span class="co">#&gt;   id       type  tema                                 href                      </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;    &lt;fct&gt; &lt;fct&gt;                                &lt;chr&gt;                     </span></span>
<span><span class="co">#&gt; 1 T-064-23 T     A LA IGUALDAD Y LA NO DISCRIMINACIÓN /relatoria/2023/T-064-23.…</span></span>
<span><span class="co">#&gt; 2 T-028-23 T     A LA IGUALDAD Y LA NO DISCRIMINACIÓN /relatoria/2023/T-028-23.…</span></span>
<span><span class="co">#&gt; 3 T-452-22 T     A LA IGUALDAD Y LA NO DISCRIMINACIÓN /relatoria/2022/T-452-22.…</span></span>
<span><span class="co">#&gt; 4 T-425-22 T     A LA IGUALDAD Y LA NO DISCRIMINACIÓN /relatoria/2022/T-425-22.…</span></span>
<span><span class="co">#&gt; 5 T-400-22 T     A LA IGUALDAD Y LA NO DISCRIMINACIÓN /relatoria/2022/T-400-22.…</span></span>
<span><span class="co">#&gt; 6 T-378-22 T     A LA IGUALDAD Y LA NO DISCRIMINACIÓN /relatoria/2022/T-378-22.…</span></span>
<span><span class="co">#&gt; # ℹ 465 more rows</span></span></code></pre></div>
</div>
<p><strong>Transitional Justice</strong></p>
<p><code>The jctt_*</code> datasets contain cases from the “<a href="http://justiciatransicional.uniandes.edu.co/web/" class="external-link">Justicia Constitucional en Tiempos de Transición</a>” project, collected by researchers affiliated with Universidad de Los Andes.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">jctt_cases</span></span>
<span><span class="co">#&gt; # A tibble: 123 × 11</span></span>
<span><span class="co">#&gt;   id       type  date       precedent president href  keywords crimes   mp      </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;    &lt;chr&gt; &lt;date&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt; &lt;list&gt;   &lt;list&gt;   &lt;list&gt;  </span></span>
<span><span class="co">#&gt; 1 C-019-18 C     2018-04-04 Mantiene  Juan Man… /Rel… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span><span class="co">#&gt; 2 C-020-18 C     2018-04-04 Mantiene  Juan Man… /Rel… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span><span class="co">#&gt; 3 C-527-17 C     2017-08-14 Crea      Juan Man… /Rel… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span><span class="co">#&gt; 4 C-006-17 C     2017-01-18 Mantiene  Juan Man… /Rel… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span><span class="co">#&gt; 5 C-026-18 C     2018-04-11 Mantiene  Juan Man… /Rel… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span><span class="co">#&gt; 6 C-535-17 C     2017-08-17 Crea      Juan Man… /Rel… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span><span class="co">#&gt; # ℹ 117 more rows</span></span>
<span><span class="co">#&gt; # ℹ 2 more variables: msv &lt;list&gt;, mav &lt;list&gt;</span></span></code></pre></div>
</div>
<p><code>jctt_edge_list</code> contains citation data to sources “outside” the CCC (e.g., in international law).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">jctt_edge_list</span></span>
<span><span class="co">#&gt; # A tibble: 1,660 × 7</span></span>
<span><span class="co">#&gt;   from     to                     type  to_source to_system date       president</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;    &lt;chr&gt;                  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;     &lt;date&gt;     &lt;chr&gt;    </span></span>
<span><span class="co">#&gt; 1 C-019-18 ONU, Asamblea General… C     Normas i… Sistema … 2018-04-04 Juan Man…</span></span>
<span><span class="co">#&gt; 2 C-019-18 ONU, Asamblea General… C     Normas i… Sistema … 2018-04-04 Juan Man…</span></span>
<span><span class="co">#&gt; 3 C-019-18 ONU, Asamblea General… C     Normas i… Sistema … 2018-04-04 Juan Man…</span></span>
<span><span class="co">#&gt; 4 C-019-18 ONU, Convencion para … C     Normas i… Sistema … 2018-04-04 Juan Man…</span></span>
<span><span class="co">#&gt; 5 C-019-18 ONU, Convencion Relat… C     Normas i… Sistema … 2018-04-04 Juan Man…</span></span>
<span><span class="co">#&gt; 6 C-019-18 ONU, Asamblea General… C     Normas i… Sistema … 2018-04-04 Juan Man…</span></span>
<span><span class="co">#&gt; # ℹ 1,654 more rows</span></span></code></pre></div>
</div>
</section><section class="section level3"><h3 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-denny2018" class="csl-entry" role="listitem">
Denny, Matthew J., and Arthur Spirling. 2018. <span>“Text Preprocessing for Unsupervised Learning: Why It Matters, When It Misleads, and What to Do about It.”</span> <em>Political Analysis</em> 26 (2): 168189.
</div>
<div id="ref-fowler2008" class="csl-entry" role="listitem">
Fowler, James H., and Sangick Jeon. 2008. <span>“The Authority of Supreme Court Precedent.”</span> <em>Social Networks</em> 30 (1): 1630.
</div>
<div id="ref-kleinberg1999" class="csl-entry" role="listitem">
Kleinberg, Jon M. 1999. <span>“Authoritative Sources in a Hyperlinked Environment.”</span> <em>Journal of the ACM</em> 46 (5): 604632. <a href="https://doi.org/10.1145/324133.324140" class="external-link">https://doi.org/10.1145/324133.324140</a>.
</div>
<div id="ref-leskovec2007" class="csl-entry" role="listitem">
Leskovec, Jure, Jon Kleinberg, and Christos Faloutsos. 2007. <span>“Graph Evolution: Densification and Shrinking Diameters.”</span> <em>ACM Transactions on Knowledge Discovery from Data (TKDD)</em> 1 (1): 2es.
</div>
</div>
</section><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'light-border',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config);
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andrés Castro Araújo.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer>
</div>





  </body>
</html>
